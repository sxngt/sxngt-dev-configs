# prefix 키 변경
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 마우스 지원
set -g mouse on
set -g set-clipboard on

# true color 지원
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# 히스토리
set -g history-limit 10000

# 창 번호 1부터
set -g base-index 1
setw -g pane-base-index 1

# 창 분할
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# pane 이동 (vim 스타일)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# 설정 리로드
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded!"

# 상태바 상단
set -g status-position top

# ===== Gruvbox Material Dark 색상 =====
set -g @thm_bg "#282828"
set -g @thm_fg "#d4be98"
set -g @thm_crust "#1d2021"
set -g @thm_mantle "#1d2021"
set -g @thm_base "#282828"
set -g @thm_surface_0 "#3c3836"
set -g @thm_surface_1 "#504945"
set -g @thm_surface_2 "#665c54"
set -g @thm_overlay_0 "#7c6f64"
set -g @thm_overlay_1 "#928374"
set -g @thm_subtext_0 "#a89984"
set -g @thm_subtext_1 "#d4be98"
set -g @thm_text "#d4be98"
set -g @thm_rosewater "#d4be98"
set -g @thm_flamingo "#ea6962"
set -g @thm_red "#ea6962"
set -g @thm_maroon "#ea6962"
set -g @thm_peach "#e78a4e"
set -g @thm_yellow "#d8a657"
set -g @thm_green "#a9b665"
set -g @thm_teal "#89b482"
set -g @thm_sky "#7daea3"
set -g @thm_blue "#7daea3"
set -g @thm_sapphire "#7daea3"
set -g @thm_lavender "#d3869b"
set -g @thm_mauve "#d3869b"

# ===== Catppuccin 설정 & 로드 =====
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_status_background "#{@thm_bg}"
set -g @catppuccin_date_time_text "%H:%M"

# Catppuccin 로드
run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

# 상태바 내용 (로드 후에 설정)
set -g status-left ""
set -g status-left-length 100
set -g status-right-length 100

set -g status-right "#{E:@catppuccin_status_session}"
set -ag status-right "#{E:@catppuccin_status_application}"
set -ag status-right "#{E:@catppuccin_status_directory}"
set -ag status-right "#{E:@catppuccin_status_host}"
set -ag status-right "#{E:@catppuccin_status_date_time}"

# ===== TPM =====
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
run '~/.tmux/plugins/tpm/tpm'
